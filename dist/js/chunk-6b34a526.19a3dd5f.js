(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b34a526"],{"040f":function(e,a,t){"use strict";var i=t("35a7"),r=t.n(i);r.a},"35a7":function(e,a,t){},c66d:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"profile"},[t("el-card",[t("div",[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-row",[t("div",{staticClass:"el-upload"},[e.isEditable?t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]):t("div",{staticClass:"avatar"},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("el-avatar",{staticClass:"el-icon-user-solid avatar-uploader-icon",attrs:{fit:"fill",shape:"square"}})],1)],1)]),t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:8}},[e.isEditable?t("div",[t("ThemePicker",{attrs:{theme:e.profile.theme},on:{onThemeChange:e.onThemeChange}})],1):t("div",[t("el-button",{attrs:{type:"primary"}},[e._v(" Theme ")])],1)])],1),t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-button-group",[e.isEditable?t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(" Submit ")]):t("el-button",{attrs:{type:"primary"},on:{click:e.onEdit}},[e._v(" Edit ")]),e.isEditable?t("el-button",{attrs:{type:"primary"},on:{click:e.cancel}},[e._v(" Cancel ")]):t("el-button",{attrs:{type:"primary"},on:{click:e.goHome}},[e._v(" Home ")])],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-row",[t("el-col",{attrs:{span:6}},[t("div",[e._v("First name: ")])]),t("el-col",{attrs:{span:6}},[e.isEditable?t("el-input",{attrs:{placeholder:"Please enter your first name"},model:{value:e.profile.firstName,callback:function(a){e.$set(e.profile,"firstName",a)},expression:"profile.firstName"}}):t("div",[e._v(" "+e._s(e.profile.firstName)+" ")])],1)],1),t("el-row",[t("el-col",{attrs:{span:6}},[t("div",[e._v("Last name: ")])]),t("el-col",{attrs:{span:6}},[e.isEditable?t("el-input",{attrs:{placeholder:"Please enter your last name"},model:{value:e.profile.lastName,callback:function(a){e.$set(e.profile,"lastName",a)},expression:"profile.lastName"}}):t("div",[e._v(" "+e._s(e.profile.lastName)+" ")])],1)],1)],1)],1)],1)])],1)])},r=[],l=(t("e18c"),t("96db"),t("af86"),t("f1a9"),t("c6a1")),s=t("90b9"),o={name:"Profile",components:{ThemePicker:l["a"]},data:function(){return{imageUrl:"",isEditable:!1,profile:{firstName:"",lastName:"",avatar:"",theme:"#409EFF"}}},methods:{onThemeChange:function(e){this.profile.theme=e,console.log("theme: "+e)},onEdit:function(){this.isEditable=!0},cancel:function(){this.isEditable=!1},goHome:function(){this.$router.push("/Home")},submitForm:function(){var e=this;s["a"].updateProfile(this.profile).then((function(a){console.log(a),e.cancel()}))},handleAvatarSuccess:function(e,a){this.imageUrl=URL.createObjectURL(a.raw)},beforeAvatarUpload:function(e){var a="image/jpeg"===e.type,t=e.size/1024/1024<2;if(a){if(t){var i=new FormData;i.append("picture",e);var r=this,l="";return s["a"].createImage(i).then((function(e){l=e,s["a"].readImage(e).then((function(e){r.imageUrl=URL.createObjectURL(e),r.profile.avatar=l}))})),a&&t}this.$message.error("The size of image should not exceed 2MB!")}else this.$message.error("Only JPG is available!")}},created:function(){var e=this;s["a"].readProfile().then((function(a){var t=a.data;e.profile.firstName=t.first_name,e.profile.lastName=t.last_name,null!=t.avatar&&""!=t.avatar&&(e.profile.theme=t.theme,s["a"].readImage(t.avatar).then((function(a){e.imageUrl=URL.createObjectURL(a),console.log("image: "+e.imageUrl)}))),null!=t.theme&&""!=t.theme&&(e.profile.theme=t.theme),console.log(e.profile.theme),console.log(t)}))}},n=o,c=(t("040f"),t("9ca4")),m=Object(c["a"])(n,i,r,!1,null,"32ff8143",null);a["default"]=m.exports}}]);
//# sourceMappingURL=chunk-6b34a526.19a3dd5f.js.map