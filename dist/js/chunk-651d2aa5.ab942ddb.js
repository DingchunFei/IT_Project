(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-651d2aa5"],{"053b":function(e,t,a){var n=a("1e2c"),o=a("d910").f,r=Function.prototype,i=r.toString,l=/^\s*function ([^ (]*)/,s="name";n&&!(s in r)&&o(r,s,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(e){return""}}})},"05a4":function(e,t,a){},"1ca1":function(e,t,a){var n=a("a719"),o=a("74e7"),r=a("90fb"),i=r("species");e.exports=function(e,t){var a;return o(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!o(a.prototype)?n(a)&&(a=a[i],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"1ea7":function(e,t,a){var n=a("efe2"),o=a("90fb"),r=a("f594"),i=o("species");e.exports=function(e){return r>=51||!n((function(){var t=[],a=t.constructor={};return a[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2604:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"edit"},[a("h1",[e._v("Update your "+e._s(e.title)+" information")]),a("el-card",{staticClass:"richText"},[a("el-form",{ref:"AboutMeForm",attrs:{rules:e.rules}},[a("el-container",{staticStyle:{height:"100%"}},[a("el-main",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("div"),a("div",{staticClass:"el-upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),a("el-col",{attrs:{span:16}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"First Name",prop:"name"}},[a("el-input",{model:{value:e.content.firstName,callback:function(t){e.$set(e.content,"firstName",t)},expression:"content.firstName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Last Name",prop:"name"}},[a("el-input",{model:{value:e.content.lastName,callback:function(t){e.$set(e.content,"lastName",t)},expression:"content.lastName"}})],1)],1)],1),a("el-row",[a("div",[a("Editor",{ref:"detailsEditor",model:{value:e.content.details,callback:function(t){e.$set(e.content,"details",t)},expression:"content.details"}})],1)])],1),a("el-col",{attrs:{span:3,gutter:20}},[a("el-row",[a("el-form-item",{attrs:{label:"GitHub",prop:"links"}},[a("el-input",{model:{value:e.content.links.github,callback:function(t){e.$set(e.content.links,"github",t)},expression:"content.links.github"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"LinkedIn",prop:"links"}},[a("el-input",{model:{value:e.content.links.linkedin,callback:function(t){e.$set(e.content.links,"linkedin",t)},expression:"content.links.linkedin"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"Contact",prop:"email"}},[a("el-input",{model:{value:e.content.email,callback:function(t){e.$set(e.content,"email",t)},expression:"content.email"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"Attachment",prop:"attachment"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-upload":e.beforeUploadFile,"before-remove":e.beforeRemove,multiple:"",limit:3,"on-exceed":e.handleExceed,"file-list":e.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("Upload your files")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("Only 3 files, and not exceeding 500kb for each.")])],1)],1)],1)],1)],1)],1),a("el-footer",[a("el-col",[a("el-form-item",[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-button-group",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("Submit")]),a("el-button",{on:{click:function(t){return e.goHome()}}},[e._v("Cancel")])],1)],1)],1)],1)],1)],1)],1)],1)],1)])},o=[],r=(a("b4fb"),a("053b"),a("e18c"),a("96db"),a("af86"),a("f1a9"),a("5976")),i=a.n(r),l=a("0f29"),s=a("90b9"),c={name:"AboutMeEditor",components:{Editor:l["a"]},data:function(){return{title:"AboutMe",tabId:"",content:{avatar:"",firstName:"",lastName:"",links:{github:"",linkedin:""},email:"",details:"",attachment:""},imageUrl:"",fileList:[],rules:{name:[{required:!1,message:"Please enter your name",trigger:"blur"}],phone:[{required:!1,message:"Please enter your phone number",trigger:"blur"}],email:[{required:!1,message:"Please enter your email",trigger:"blur"}],details:[{required:!1,message:"Please enter your brief introduction",trigger:"blur"}]}}},created:function(){var e=this;this.tabId=this.$route.params.tabId,s["a"].readAboutMeContent(this.tabId).then((function(t){var a=e,n=JSON.parse(t.content),o=e.content,r=e.$refs.detailsEditor;e.title=t.title,o.avatar=n.avatar,s["a"].readImage(o.avatar).then((function(e){a.imageUrl=URL.createObjectURL(e),console.log("image: "+a.imageUrl)})),o.firstName=n.firstName,o.lastName=n.lastName,o.links=n.links,o.email=n.email,o.attachment=n.attachment,o.details=n.details,r.content=n.details}))},methods:{submitForm:function(){var e=this,t=this,a=this.content,n=this.$refs.detailsEditor;return a.details=n.content,i.a.post("/tab/"+t.tabId,{title:t.title,content:JSON.stringify(t.content)}).then((function(a){console.log(a),sessionStorage.removeItem("tab"+t.tabId),e.goHome()}))},goHome:function(){this.$router.push("/Home")},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a=e.size/1024/1024<2;if(t){if(a){var n=new FormData;n.append("picture",e);var o=this,r="";return s["a"].createImage(n).then((function(e){r=e,s["a"].readImage(e).then((function(e){o.imageUrl=URL.createObjectURL(e),o.content.avatar=r}))})),t&&a}this.$message.error("The size of image should not exceed 2MB!")}else this.$message.error("Only JPG is available!")},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("Do not exceed 3 files. Now you are selecting ".concat(e.length," filesï¼Œyou have selected ").concat(e.length+t.length," files"))},beforeRemove:function(e,t){return console.log(t),this.$confirm("Are your sure to remove ".concat(e.name," ?"))},beforeUploadFile:function(e){console.log(e);var t=e.size/1024<500;t||this.$message.error("The size of image should not exceed 500kb!")}}},u=c,f=(a("ac0b"),a("9ca4")),m=Object(f["a"])(u,n,o,!1,null,"a6142086",null);t["default"]=m.exports},"74e7":function(e,t,a){var n=a("2118");e.exports=Array.isArray||function(e){return"Array"==n(e)}},ac0b:function(e,t,a){"use strict";var n=a("05a4"),o=a.n(n);o.a},b4fb:function(e,t,a){"use strict";var n=a("1c8b"),o=a("efe2"),r=a("74e7"),i=a("a719"),l=a("3553"),s=a("d88d"),c=a("1bbd"),u=a("1ca1"),f=a("1ea7"),m=a("90fb"),d=a("f594"),p=m("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",g=d>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=f("concat"),y=function(e){if(!i(e))return!1;var t=e[p];return void 0!==t?!!t:r(e)},k=!g||!v;n({target:"Array",proto:!0,forced:k},{concat:function(e){var t,a,n,o,r,i=l(this),f=u(i,0),m=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?i:arguments[t],y(r)){if(o=s(r.length),m+o>b)throw TypeError(h);for(a=0;a<o;a++,m++)a in r&&c(f,m,r[a])}else{if(m>=b)throw TypeError(h);c(f,m++,r)}return f.length=m,f}})}}]);
//# sourceMappingURL=chunk-651d2aa5.ab942ddb.js.map