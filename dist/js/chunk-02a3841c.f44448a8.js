(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02a3841c"],{"7e55":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"edit"},[a("h1",[t._v("Add your "+t._s(t.title)+" information")]),a("el-card",{staticClass:"richText"},[a("el-form",{ref:"AboutMeForm",attrs:{rules:t.rules}},[a("el-container",{staticStyle:{height:"100%"}},[a("el-main",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("div"),a("div",{staticClass:"el-upload"},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)]),a("el-col",{attrs:{span:16}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"First Name",prop:"name"}},[a("el-input",{model:{value:t.content.firstName,callback:function(e){t.$set(t.content,"firstName",e)},expression:"content.firstName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"Last Name",prop:"name"}},[a("el-input",{model:{value:t.content.lastName,callback:function(e){t.$set(t.content,"lastName",e)},expression:"content.lastName"}})],1)],1)],1),a("el-row",[a("div",[a("Editor",{ref:"detailsEditor",model:{value:t.content.details,callback:function(e){t.$set(t.content,"details",e)},expression:"content.details"}})],1)])],1),a("el-col",{attrs:{span:3,gutter:20}},[a("el-row",[a("el-form-item",{attrs:{label:"GitHub",prop:"links"}},[a("el-input",{model:{value:t.content.links.github,callback:function(e){t.$set(t.content.links,"github",e)},expression:"content.links.github"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"LinkedIn",prop:"links"}},[a("el-input",{model:{value:t.content.links.linkedin,callback:function(e){t.$set(t.content.links,"linkedin",e)},expression:"content.links.linkedin"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"Contact",prop:"email"}},[a("el-input",{model:{value:t.content.email,callback:function(e){t.$set(t.content,"email",e)},expression:"content.email"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"Attachment",prop:"attachment"}},[a("el-input",{model:{value:t.content.attachment,callback:function(e){t.$set(t.content,"attachment",e)},expression:"content.attachment"}})],1)],1)],1)],1)],1),a("el-footer",[a("el-col",[a("el-form-item",[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-button-group",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm()}}},[t._v("Submit")]),a("el-button",{on:{click:function(e){return t.goHome()}}},[t._v("Cancel")])],1)],1)],1)],1)],1)],1)],1)],1)],1)])},i=[],l=(a("e18c"),a("96db"),a("af86"),a("f1a9"),a("5976")),r=a.n(l),o=a("0f29"),s=a("90b9"),c={name:"Add",components:{Editor:o["a"]},data:function(){return{title:"AboutMe",tabId:"",content:{avatar:"",firstName:"",lastName:"",links:{github:"",linkedin:""},email:"",details:"",attachment:""},imageUrl:"",rules:{name:[{required:!1,message:"Please enter your name",trigger:"blur"}],phone:[{required:!1,message:"Please enter your phone number",trigger:"blur"}],email:[{required:!1,message:"Please enter your email",trigger:"blur"}],details:[{required:!1,message:"Please enter your brief introduction",trigger:"blur"}]}}},created:function(){var t=this;this.tabId=this.$route.params.tabId,s["a"].readAboutMeContent(this.tabId).then((function(e){var a=t,n=JSON.parse(e.content);console.log(n);var i=t.content,l=t.$refs.detailsEditor;t.title=e.title,i.avatar=n.avatar,s["a"].readImage(i.avatar).then((function(t){a.imageUrl=URL.createObjectURL(t)})),i.firstName=n.firstName,i.lastName=n.lastName,i.links=n.links,i.email=n.email,i.attachment=n.attachment,i.details=n.details,l.content=n.details}))},methods:{submitForm:function(){var t=this,e=this,a=this.content,n=this.$refs.detailsEditor;return a.details=n.content,console.log("send:"+JSON.stringify(e.content)),r.a.post("/tab",{title:e.title,content:JSON.stringify(e.content)}).then((function(a){console.log(a),sessionStorage.removeItem("tab"+e.tabId),t.goHome()}))},goHome:function(){this.$router.push("/Home")},handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,a=t.size/1024/1024<2;if(e){if(a){var n=new FormData;n.append("picture",t);var i=this,l="";return s["a"].createImage(n).then((function(t){l=t,s["a"].readImage(t).then((function(t){i.imageUrl=URL.createObjectURL(t),i.content.avatar=l}))})),e&&a}this.$message.error("The size of image should not exceed 2MB!")}else this.$message.error("Only JPG is available!")}}},u=c,m=(a("c801"),a("9ca4")),d=Object(m["a"])(u,n,i,!1,null,"39981166",null);e["default"]=d.exports},a394:function(t,e,a){},c801:function(t,e,a){"use strict";var n=a("a394"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-02a3841c.f44448a8.js.map